# 15. ë°°ì—´ì— í•­ëª© ìˆ˜ì •í•˜ê¸°

ì†Œìœ ì: ì§€ì—° ë°•
ìƒì„± ì¼ì‹œ: 2024ë…„ 7ì›” 5ì¼ ì˜¤ì „ 8:21

## ì½”ë“œ ë§Œë“¤ê¸°

---

<aside>
ğŸ’¡ **User ì»´í¬ë„ŒíŠ¸**ì— ê³„ì •ëª…ì„ í´ë¦­í–ˆì„ ë•Œ ìƒ‰ìƒì´ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ë°”ë€Œê³ , ë‹¤ì‹œ ëˆ„ë¥´ë©´ ê²€ì •ìƒ‰ìœ¼ë¡œ ë°”ë€Œë„ë¡ êµ¬í˜„í•œë‹¤.

</aside>

1. App ì»´í¬ë„ŒíŠ¸ì˜ users ë°°ì—´ ì•ˆì˜ ê°ì²´ ì•ˆì— activeë¼ëŠ” ì†ì„±ì„ ì¶”ê°€í•œë‹¤.

**App.js**

```html
import React, { useRef, useState } from 'react';
import UserList from './UserList';
import CreateUser from './CreateUser';

function App() {
  const [inputs, setInputs] = useState({
    username: '',
    email: ''
  });
  const { username, email } = inputs;
  const onChange = e => {
    const { name, value } = e.target;
    setInputs({
      ...inputs,
      [name]: value
    });
  };
  const [users, setUsers] = useState([
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com',
      active: true
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com',
      active: false
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com',
      active: false
    }
  ]);

  const nextId = useRef(4);
  const onCreate = () => {
    const user = {
      id: nextId.current,
      username,
      email
    };
    setUsers(users.concat(user));

    setInputs({
      username: '',
      email: ''
    });
    nextId.current += 1;
  };

  const onRemove = id => {
    // user.id ê°€ íŒŒë¼ë¯¸í„°ë¡œ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ì›ì†Œë§Œ ì¶”ì¶œí•´ì„œ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¬
    // = user.id ê°€ id ì¸ ê²ƒì„ ì œê±°í•¨
    setUsers(users.filter(user => user.id !== id));
  };

  return (
    <>
      <CreateUser
        username={username}
        email={email}
        onChange={onChange}
        onCreate={onCreate}
      />
      <UserList users={users} onRemove={onRemove} onToggle={onToggle} />
    </>
  );
}

export default App;
```

1. User ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°©ê¸ˆ ë„£ì–´ì¤€ active ê°’ì— ë”°ë¼ í°íŠ¸ì˜ ìƒ‰ìƒì„ ë°”ê¿”ì£¼ë„ë¡ í•œë‹¤. cursor í•„ë“œë¥¼ ì„¤ì •í•´ ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œ ì»¤ì„œê°€ ì†ê°€ë½ ëª¨ì–‘ìœ¼ë¡œ ë³€í•˜ë„ë¡ í•œë‹¤.

**UserList.js**

```html
import React from 'react';

function User({ user, onRemove }) {
  return (
    <div>
      <b
        style={{
          cursor: 'pointer',
          color: user.active ? 'green' : 'black'
        }}
      >
        {user.username}
      </b>

      <span>({user.email})</span>
      <button onClick={() => onRemove(user.id)}>ì‚­ì œ</button>
    </div>
  );
}

function UserList({ users, onRemove }) {
  return (
    <div>
      {users.map(user => (
        <User user={user} key={user.id} onRemove={onRemove} />
      ))}
    </div>
  );
}

export default UserList;
```

1. App.js ì—ì„œ onToggleì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•  ê²ƒì´ë‹¤. ë°°ì—´ì˜ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ë°°ì—´ì„ ì—…ë°ì´íŠ¸ í•  ë•Œì—ë„ map í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. id ê°’ì„ ë¹„êµí•´ì„œ idê°€  ë‹¤ë¥´ë‹¤ë©´ ê·¸ëŒ€ë¡œ ë‘ê³ , ê°™ë‹¤ë©´ activeê°’ì„ ë°˜ì „ì‹œí‚¤ë„ë¡ êµ¬í˜„ì„ í•˜ë©´ ëœë‹¤.

â†’ onToggle í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ UserList ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•œë‹¤.

**App.js**

```html
import React, { useRef, useState } from 'react';
import UserList from './UserList';
import CreateUser from './CreateUser';

function App() {
  const [inputs, setInputs] = useState({
    username: '',
    email: ''
  });
  const { username, email } = inputs;
  const onChange = e => {
    const { name, value } = e.target;
    setInputs({
      ...inputs,
      [name]: value
    });
  };
  const [users, setUsers] = useState([
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com',
      active: true
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com',
      active: false
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com',
      active: false
    }
  ]);

  const nextId = useRef(4);
  const onCreate = () => {
    const user = {
      id: nextId.current,
      username,
      email
    };
    setUsers(users.concat(user));

    setInputs({
      username: '',
      email: ''
    });
    nextId.current += 1;
  };

  const onRemove = id => {
    // user.id ê°€ íŒŒë¼ë¯¸í„°ë¡œ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ì›ì†Œë§Œ ì¶”ì¶œí•´ì„œ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¬
    // = user.id ê°€ id ì¸ ê²ƒì„ ì œê±°í•¨
    setUsers(users.filter(user => user.id !== id));
  };
  const onToggle = id => {
    setUsers(
      users.map(user =>
        user.id === id ? { ...user, active: !user.active } : user
      )
    );
  };
  return (
    <>
      <CreateUser
        username={username}
        email={email}
        onChange={onChange}
        onCreate={onCreate}
      />
      <UserList users={users} onRemove={onRemove} onToggle={onToggle} />
    </>
  );
}

export default App;
```

1. UserList ì»´í¬ë„ŒíŠ¸ì—ì„œ onToggleì„ ë°›ì•„ì™€ì„œ Userì—ê²Œ ì „ë‹¬í•´ì£¼ê³ , onRemoveë¥¼ êµ¬í˜„í–ˆë˜ ê²ƒì²˜ëŸ¼ onToggleì— idë¥¼ ë„£ì–´ì„œ í˜¸ì¶œí•œë‹¤.

**UserList.js**

```html
import React from 'react';

function User({ user, onRemove, onToggle }) {
  return (
    <div>
      <b
        style={{
          cursor: 'pointer',
          color: user.active ? 'green' : 'black'
        }}
        onClick={() => onToggle(user.id)}
      >
        {user.username}
      </b>
      &nbsp;
      <span>({user.email})</span>
      <button onClick={() => onRemove(user.id)}>ì‚­ì œ</button>
    </div>
  );
}

function UserList({ users, onRemove, onToggle }) {
  return (
    <div>
      {users.map(user => (
        <User
          user={user}
          key={user.id}
          onRemove={onRemove}
          onToggle={onToggle}
        />
      ))}
    </div>
  );
}

export default UserList;
```